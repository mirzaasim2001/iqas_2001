{% extends "base.html" %}
{% block content %}

<section class="hero">
    <div>
        <h1>Intelligent Quality Affiliate System</h1>
        <!-- stronger description -->
        <p class="hero-desc">
            Discover trending products across curated niches, and explore them through a sleek, futuristic interface that feels like tomorrow’s shopping—today.
        </p>
    </div>
</section>

{% if featured %}
<section class="featured-slider">
    <h2>Featured Picks</h2>

    {% if featured|length == 1 %}
        <!-- SINGLE FEATURED -->
        <div class="grid">
            <div class="product-card">
                <a href="/product/{{ featured[0].id }}">
                    <img src="{{ featured[0].image }}" alt="">
                </a>
                <h4>{{ featured[0].title }}</h4>
                <p>{{ featured[0].price }}</p>
            </div>
        </div>

    {% else %}
        <!-- TRUE INFINITE SLIDER -->
        <div class="slider-wrapper">
            <div class="slider-track">

                <!-- GROUP 1 -->
                <div class="slider-group">
                    {% for product in featured %}
                    <div class="slider-card">
                        <a href="/product/{{ product.id }}">
                            <img src="{{ product.image }}" alt="">
                        </a>
                        <h4>{{ product.title }}</h4>
                        <p>{{ product.price }}</p>
                    </div>
                    {% endfor %}
                </div>

                <!-- GROUP 2 (CLONE) -->
                <div class="slider-group">
                    {% for product in featured %}
                    <div class="slider-card">
                        <a href="/product/{{ product.id }}">
                            <img src="{{ product.image }}" alt="">
                        </a>
                        <h4>{{ product.title }}</h4>
                        <p>{{ product.price }}</p>
                    </div>
                    {% endfor %}
                </div>

            </div>
        </div>
    {% endif %}
</section>
{% endif %}



<section class="niches">
    <h2>Browse by niche</h2>
    <div class="grid">
        {% for niche in niches %}
        <a href="/niche/{{ niche }}" class="card">
            <h3>{{ niche | capitalize }}</h3>
        </a>
        {% endfor %}
    </div>
</section>

{% endblock %}
